<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptTemplates | Premium Website Templates</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" id="dynamic-favicon">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Loading Premium Templates...</p>
    </div>

    <!-- User Interface -->
    <div id="user-interface">
        <!-- Header -->
        <header class="main-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo-container">
                        <img src="" alt="Platform Logo" id="platform-logo" class="platform-logo">
                        <h1 id="platform-name" class="platform-name">PromptTemplates</h1>
                    </div>
                    <nav class="main-nav">
                        <ul>
                            <li><a href="#home" class="nav-link active">Home</a></li>
                            <li><a href="#templates" class="nav-link">Templates</a></li>
                            <li><a href="#purchases" class="nav-link">My Purchases</a></li>
                            <li><a href="#contact" class="nav-link">Contact</a></li>
                        </ul>
                    </nav>
                    <div class="header-actions">
                        <button class="btn btn-outline admin-access-btn">
                            <i class="fas fa-user-shield"></i> Admin Access
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero-section" id="home">
            <div class="container">
                <div class="hero-content">
                    <h2 class="hero-title">Professional Website Templates</h2>
                    <p class="hero-description">Browse and purchase premium website templates designed for modern businesses. Instant download after payment.</p>
                    <div class="hero-actions">
                        <button class="btn btn-primary browse-templates-btn">
                            <i class="fas fa-eye"></i> Browse Templates
                        </button>
                        <a href="#contact" class="btn btn-outline">
                            <i class="fas fa-question-circle"></i> Need Help?
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Selection Panel -->
                <div class="selection-panel" id="selection-panel" style="display: none;">
                    <div class="selection-info">
                        <h3><i class="fas fa-shopping-cart"></i> Selected Items</h3>
                        <p class="selected-count">
                            <span id="selected-templates-count">0</span> template(s) selected • 
                            Total: KSh <span id="total-price">0</span>
                        </p>
                    </div>
                    <div class="selection-actions">
                        <button class="btn btn-outline preview-selected-btn">
                            <i class="fas fa-external-link-alt"></i> Preview Selected
                        </button>
                        <button class="btn btn-success purchase-selected-btn">
                            <i class="fas fa-mobile-alt"></i> Pay with M-Pesa
                        </button>
                    </div>
                </div>

                <!-- Templates Section -->
                <section class="templates-section" id="templates">
                    <h2 class="section-title">Available Templates</h2>
                    <p class="section-subtitle">Select templates to preview or purchase</p>
                    
                    <div class="templates-filters">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="template-search" placeholder="Search templates...">
                        </div>
                        <div class="sort-options">
                            <select id="sort-templates" class="form-control">
                                <option value="newest">Newest First</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                                <option value="popular">Most Popular</option>
                            </select>
                        </div>
                    </div>

                    <div class="templates-grid" id="templates-container">
                        <!-- Templates loaded dynamically -->
                    </div>

                    <div class="no-templates" id="no-templates" style="display: none;">
                        <i class="fas fa-box-open fa-3x"></i>
                        <h3>No Templates Available</h3>
                        <p>Check back soon for new template additions.</p>
                    </div>
                </section>

                <!-- Social & Contact Section -->
                <section class="social-contact-section" id="contact">
                    <h2 class="section-title">Connect With Us</h2>
                    <div class="social-contact-grid">
                        <div class="contact-card">
                            <i class="fas fa-phone-alt contact-icon"></i>
                            <h3>Call Us</h3>
                            <p id="contact-phone-display">+254 700 000 000</p>
                            <a href="tel:+254700000000" class="btn btn-outline contact-btn">
                                <i class="fas fa-phone"></i> Call Now
                            </a>
                        </div>
                        <div class="contact-card">
                            <i class="fas fa-envelope contact-icon"></i>
                            <h3>Email Us</h3>
                            <p id="contact-email-display">support@prompttemplates.com</p>
                            <a href="mailto:support@prompttemplates.com" class="btn btn-outline contact-btn">
                                <i class="fas fa-envelope"></i> Send Email
                            </a>
                        </div>
                        <div class="social-card">
                            <h3>Follow Us</h3>
                            <div class="social-icons">
                                <a href="#" id="tiktok-link" class="social-icon tiktok" target="_blank">
                                    <i class="fab fa-tiktok"></i>
                                </a>
                                <a href="#" id="facebook-link" class="social-icon facebook" target="_blank">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="#" class="social-icon whatsapp" target="_blank">
                                    <i class="fab fa-whatsapp"></i>
                                </a>
                                <a href="#" class="social-icon instagram" target="_blank">
                                    <i class="fab fa-instagram"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-section">
                        <img src="" alt="Logo" id="footer-logo" class="footer-logo">
                        <h3 id="footer-platform-name">PromptTemplates</h3>
                        <p class="footer-description">Your trusted marketplace for premium digital templates.</p>
                    </div>
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="#home">Home</a></li>
                            <li><a href="#templates">Templates</a></li>
                            <li><a href="#purchases">My Purchases</a></li>
                            <li><a href="#contact">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h4>Contact Info</h4>
                        <p><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</p>
                        <p><i class="fas fa-phone"></i> <span id="footer-phone">+254 700 000 000</span></p>
                        <p><i class="fas fa-envelope"></i> <span id="footer-email">support@prompttemplates.com</span></p>
                    </div>
                    <div class="footer-section">
                        <h4>Payment Methods</h4>
                        <div class="payment-methods">
                            <div class="payment-method">
                                <i class="fas fa-mobile-alt"></i>
                                <span>Safaricom M-Pesa</span>
                            </div>
                            <div class="payment-method">
                                <i class="fas fa-sim-card"></i>
                                <span>Airtel Money</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; <span id="current-year">2024</span> <span id="copyright-name">PromptTemplates</span>. All rights reserved.</p>
                    <p>Secure payments via M-Pesa • Instant delivery • 24/7 Support</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="modal">
        <div class="modal-content admin-modal">
            <div class="modal-header">
                <h3><i class="fas fa-user-shield"></i> Admin Access</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="validation-info">
                    <p><i class="fas fa-info-circle"></i> Restricted access. Authorized personnel only.</p>
                </div>
                <form id="admin-login-form">
                    <div class="form-group">
                        <label for="login-username" class="form-label">
                            <i class="fas fa-user"></i> Username
                        </label>
                        <input type="text" id="login-username" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password" class="form-label">
                            <i class="fas fa-lock"></i> Password
                        </label>
                        <input type="password" id="login-password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            <i class="fas fa-sign-in-alt"></i> Login to Admin Panel
                        </button>
                    </div>
                </form>
                <div class="modal-footer">
                    <p class="security-note">
                        <i class="fas fa-shield-alt"></i> Secure admin portal. All activities are logged.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Preview Modal -->
    <div id="preview-modal" class="modal">
        <div class="modal-content preview-modal">
            <div class="modal-header">
                <h3><i class="fas fa-eye"></i> Template Preview</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="preview-container">
                    <iframe id="preview-frame" class="preview-frame"></iframe>
                </div>
                <div class="preview-actions">
                    <button class="btn btn-outline close-preview-btn">
                        <i class="fas fa-times"></i> Close Preview
                    </button>
                    <button class="btn btn-primary add-to-cart-preview">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- M-Pesa Payment Modal -->
    <div id="mpesa-modal" class="modal">
        <div class="modal-content mpesa-modal">
            <div class="modal-header">
                <h3><i class="fas fa-mobile-alt"></i> Complete Purchase via M-Pesa</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="payment-summary">
                    <h4>Order Summary</h4>
                    <div class="order-details" id="order-details">
                        <!-- Order items loaded here -->
                    </div>
                    <div class="order-total">
                        <span>Total Amount:</span>
                        <span class="total-amount">KSh <span id="mpesa-total">0</span></span>
                    </div>
                </div>
                
                <div class="validation-info">
                    <p><i class="fas fa-info-circle"></i> Enter your M-Pesa registered phone number</p>
                    <p><i class="fas fa-info-circle"></i> You will receive a payment request on your phone</p>
                </div>
                
                <form id="mpesa-payment-form">
                    <div class="form-group">
                        <label for="customer-name" class="form-label">Full Name</label>
                        <input type="text" id="customer-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-email" class="form-label">Email Address</label>
                        <input type="email" id="customer-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="customer-phone" class="form-label">M-Pesa Phone Number</label>
                        <div class="phone-input-group">
                            <span class="phone-prefix">+254</span>
                            <input type="tel" id="customer-phone" class="form-control" 
                                   pattern="[0-9]{9}" 
                                   placeholder="700000000" 
                                   maxlength="9" 
                                   required>
                        </div>
                        <small class="form-text">Enter your Safaricom number without the leading 0</small>
                    </div>
                    
                    <div class="payment-instructions">
                        <h5><i class="fas fa-list-ol"></i> Payment Instructions:</h5>
                        <ol>
                            <li>Enter your M-Pesa registered phone number</li>
                            <li>Click "Initiate M-Pesa Payment"</li>
                            <li>Check your phone for STK Push prompt</li>
                            <li>Enter your M-Pesa PIN when prompted</li>
                            <li>Wait for confirmation message</li>
                        </ol>
                    </div>
                    
                    <div class="form-group">
                        <button type="submit" class="btn btn-success" id="initiate-mpesa-btn" style="width: 100%;">
                            <i class="fas fa-paper-plane"></i> Initiate M-Pesa Payment
                        </button>
                    </div>
                </form>
                
                <div class="payment-status" id="payment-status" style="display: none;">
                    <div class="status-content">
                        <div class="spinner"></div>
                        <h4>Processing Payment...</h4>
                        <p>Please check your phone for payment prompt</p>
                        <div class="countdown" id="payment-countdown">60</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="success-modal" class="modal">
        <div class="modal-content success-modal">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Payment Successful!</h3>
            </div>
            <div class="modal-body">
                <div class="success-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h4>Thank You for Your Purchase!</h4>
                <p>Your payment has been confirmed successfully.</p>
                
                <div class="success-details">
                    <p><strong>Transaction ID:</strong> <span id="success-transaction-id">TXN-12345</span></p>
                    <p><strong>Amount Paid:</strong> KSh <span id="success-amount">0</span></p>
                    <p><strong>M-Pesa Receipt:</strong> <span id="success-receipt">REC12345</span></p>
                </div>
                
                <div class="download-section">
                    <h5><i class="fas fa-download"></i> Download Your Templates</h5>
                    <p>Your purchased templates are ready for download:</p>
                    <a href="#" id="download-link" class="btn btn-primary download-btn" target="_blank">
                        <i class="fas fa-file-archive"></i> Download All Templates (ZIP)
                    </a>
                    <p class="download-note">
                        <i class="fas fa-info-circle"></i> The download link will expire in 24 hours
                    </p>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-outline close-success-btn">
                        <i class="fas fa-times"></i> Close
                    </button>
                    <button class="btn btn-primary view-purchases-btn">
                        <i class="fas fa-history"></i> View Purchase History
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications Container -->
    <div id="notifications-container"></div>

    <!-- JavaScript Files -->
    <script src="script.js"></script>
    <script src="user.js"></script>
</body>
</html>